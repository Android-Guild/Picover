name: Pull Request verification
on: pull_request

jobs:
  ktlint-check:
    uses: ./.github/workflows/setup_build_environment.yml
    with:
      command: ./gradlew ktlintCheck

  build:
    uses: ./.github/workflows/setup_build_environment.yml
    with:
      command: ./gradlew assemble
    secrets: inherit

  tests:
    uses: ./.github/workflows/setup_build_environment.yml
    with:
      command: ./gradlew test
    secrets: inherit
